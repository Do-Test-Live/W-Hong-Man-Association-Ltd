<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>康民協進會</title>
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">

    <link href="assets/vendor/Bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="assets/vendor/Uikit/css/uikit.min.css" rel="stylesheet"/>
    <link href="assets/vendor/FontAwesome/css/all.min.css" rel="stylesheet"/>
    <link href="assets/css/style.css" rel="stylesheet"/>
</head>
<body>
<!-- Header Top Start -->
<!--<section class="bg-white hmal-header-top">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-6">
                <p>長者社區照顧及支援服務</p>
            </div>
            <div class="col-lg-6 d-flex justify-content-end">
                <ul>
                    <li>
                        <i class="fa-regular fa-envelope"></i> 電郵：info@hma.ngt.hk
                    </li>
                    <li>
                        <i class="fa-solid fa-phone"></i> 電話： 0000 0000
                    </li>
                    <li>
                        <i class="fa-brands fa-whatsapp"></i> Whatsapp : 0000 0000
                    </li>
                </ul>
            </div>
        </div>
    </div>
</section>-->
<!-- Header Top End -->

<!-- Navbar Start -->
<header class="sticky-top hmal-header-bottom">
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="assets/images/logo.png" class="img-fluid" alt=""/>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <i class="fa-solid fa-bars p-1"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="index.html">公司簡介</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                           aria-expanded="false">
                            活動回顧
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="description.html#tpark">T · PARK [源· 區] 環保導賞團</a>
                            </li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item"
                                   href="description.html#waste-reduction">減廢重用環保工作坊-環保散紙包製作</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="description.html#environment-carnival">環保嘉年華</a>
                            </li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="description.html#green-community">綠色社區回收比賽</a>
                            </li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="description.html#remark">備註</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="agreement.html">碳中和約章</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<!-- Navbar End -->


<!-- About Start -->
<section class="container">
    <div class="row">
        <div class="col-lg-12">
            <div class="p-3" id="agreement-pdf">
                <div class="row">
                    <div class="col-12 pt-2 text-end">
                        <div id="main-image">
                            <img src="assets/images/agreement/top-logo-3.png" class="img-fluid" alt=""/>
                        </div>
                        <div id="print-image" style="display: none">
                            <img src="assets/images/agreement/top-logo-2.png" class="img-fluid" alt=""/>
                        </div>
                    </div>
                </div>
                <div class="hmal-agreement-card mt-3">
                    <div class="hmal-agreement-card-inner-section">
                        <h2 class="text-center mt-3 mb-1 hmal-unset-height fw-bolder hmal-agreement-content">
                            環境及自然保育基金 碳中和行動
                        </h2>
                        <div class="text-center mb-3 mt-2">
                            <img src="assets/images/agreement/text.png" class="img-fluid hmal-title-image" alt="">
                        </div>
                        <div class="row">
                            <div class="col-9 uk-text-justify d-flex h-100 justify-content-center align-items-center">
                                <h4 class="hmal-agreement-content">
                                    隨著全球暖化的情況日益惡化，為了減少碳排放對環境所造成的破壞。
                                    本人 <span id="name"></span>願意為此以行動響應碳中和的目標，承諾
                                </h4>
                            </div>
                            <div class="col-3 d-flex h-100 justify-content-center align-items-center">
                                <img src="assets/images/agreement/loo.png" class="img-fluid" style="max-width: 100px" alt=""/>
                            </div>
                            <div class="col-12">
                                <input type="checkbox" id="custom-checkbox-1">
                                <label for="custom-checkbox-1">一步一步實踐低碳生活，不要將電器置於備用狀態，將已經用完的電器及裝置關閉，減少不必要的能源消耗，合理使用電力、燃氣和水資源</label>
                            </div>
                            <div class="col-12 text-center">
                                <img src="assets/images/agreement/dash.png" class="img-fluid" alt=""/>
                            </div>
                            <div class="col-12">
                                <input type="checkbox" id="custom-checkbox-2">
                                <label for="custom-checkbox-2">為減低由碳排放造成的極端天氣，盡量選用大眾交通運輸工具代步或其他低碳出行的方法，藉此達到減少碳排放的目標</label>
                            </div>
                            <div class="col-12 text-center">
                                <img src="assets/images/agreement/dash.png" class="img-fluid" alt=""/>
                            </div>
                            <div class="col-12">
                                <input type="checkbox" id="custom-checkbox-3">
                                <label for="custom-checkbox-3">可以選擇較少碳足跡的食材，例如本地蔬果及各種有機食品，甚至是帶有碳足跡標籤的產品，實現低碳經濟</label>
                            </div>
                            <div class="col-12 text-center">
                                <img src="assets/images/agreement/dash.png" class="img-fluid" alt=""/>
                            </div>
                            <div class="col-12">
                                <input type="checkbox" id="custom-checkbox-4">
                                <label for="custom-checkbox-4">當外出用膳或外賣時，避免使用一次性即棄容器及餐具，並盡量自備餐具和水瓶，減少額外的浪費</label>
                            </div>
                            <div class="col-12 text-center">
                                <img src="assets/images/agreement/dash.png" class="img-fluid" alt=""/>
                            </div>
                            <div class="col-12">
                                <input type="checkbox" id="custom-checkbox-5">
                                <label for="custom-checkbox-5">支持乾淨回收，善用社區中的回收措施，響應金屬、廢紙、塑膠及廚餘等各種分類回收，減少二氧化碳及甲烷等各類溫室氣體的排放</label>
                            </div>
                            <div class="col-12 text-center">
                                <img src="assets/images/agreement/dash.png" class="img-fluid" alt=""/>
                            </div>
                            <div class="col-12">
                                <input type="checkbox" id="custom-checkbox-6">
                                <label for="custom-checkbox-6">參與及響應各式有關碳中和的活動，例如植樹活動或可持續發展項目，建立綠色生活習慣及培養公民參與，彰顯公民責任及幫助減緩氣候變化</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-3">
                    <p class="text-center">
                        免責聲明：在此刊物/活動內表達的任何意見、 研究成果、結論或建議，<br/>
                        並不一定反映香港特別行政區政府及環境及自然保育基金的觀點
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 mx-auto">
                    <div class="mb-3">
                        <input type="text" class="form-control hmal-form-control" onkeydown="nameInsert(this.value);"
                               id="nameVal" onkeyup="nameInsert(this.value);" value="" placeholder="輸入姓名"/>
                    </div>
                    <div class="mb-3">
                        <button type="button" class="btn btn-success w-100 hmal-btn" onclick="getPDF()">承諾及下載約章
                        </button>
                    </div>
                </div>
            </div>


            <!--            <div id="pdf-btns">
                            <button type="button" class="btn" id="get-pdf" onclick="getPDF();">Save as PDF</button>
                        </div>-->
        </div>
    </div>
</section>
<!-- About End -->

<!-- Footer Start -->
<footer class="mt-5">
    <!-- Copyright Start -->
    <div class="hmal-footer-bottom">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <p class="mt-3 text-center text-white">
                        Copyright © 2023 All Rights Reserved.
                    </p>
                </div><!--
                <div class="col-lg-6 d-flex justify-content-center">
                    <ul>
                        <li>
                            <i class="fa-brands fa-square-facebook"></i>
                        </li>
                        <li>
                            <i class="fa-brands fa-twitter"></i>
                        </li>
                        <li>
                            <i class="fa-brands fa-linkedin"></i>
                        </li>
                        <li>
                            <i class="fa-brands fa-youtube"></i>
                        </li>
                    </ul>
                </div>-->
            </div>
        </div>
    </div>
    <!-- Copyright End -->
</footer>
<!-- Footer End -->

<!-- Scroll To Top -->
<button id="hmal-scrollToTop"><i class="fa-solid fa-angle-up"></i></button>

<script src="assets/vendor/Bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/jQuery/jquery-3.6.4.min.js"></script>
<script src="assets/js/main.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"
        integrity="sha512-YcsIPGdhPK4P/uRW6/sruonlYj+Q7UHWeKfTAkBW+g83NKM+jMJFJ4iAPfSnVp7BKD4dKMHmVSvICUbE/V1sSw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    function nameInsert(val) {
        document.getElementById('name').innerHTML = val + ' ';
    }

    function getPDF() {
        document.getElementById('main-image').style.display = 'none';
        document.getElementById('print-image').style.display = 'block';
        let name = document.getElementById('nameVal').value;
        let currentDateTime = new Date();
        let customName = name + "-HMAL-Agreement-";

        let year = currentDateTime.getFullYear();
        let month = currentDateTime.getMonth() + 1;
        let day = currentDateTime.getDate();

        let hours = currentDateTime.getHours();
        let minutes = currentDateTime.getMinutes();
        let seconds = currentDateTime.getSeconds();

        let formattedDate = year + '' + (month < 10 ? '0' : '') + month + '' + (day < 10 ? '0' : '') + day;
        let formattedTime = (hours < 10 ? '0' : '') + hours + '' + (minutes < 10 ? '0' : '') + minutes + '' + (seconds < 10 ? '0' : '') + seconds;

        let formattedDateTime = customName + formattedDate + formattedTime;


        let element = document.getElementById('agreement-pdf');

        let opt = {
            margin: 0,
            filename: formattedDateTime + '.pdf',
            image: {type: 'png', quality: 1},
            html2canvas: {scale: 1},
            jsPDF: {unit: 'in', format: [8.5, 12.25], orientation: 'portrait'}
        };

        html2pdf().set(opt).from(element).save();


        let checkedCheckboxes = [];

        for (let i = 1; i <= 6; i++) {
            let checkboxId = "custom-checkbox-" + i;
            let checkbox = document.getElementById(checkboxId);
            if (checkbox.checked) {
                checkedCheckboxes.push(i);
            }
        }

        let data = {
            name: name,
            checkedCheckboxes: checkedCheckboxes
        };

        $.ajax({
            type: "POST",
            url: "insert.php",
            data: data,
            success: function (response) {
                alert('Agreement Submitted Successful');

                document.getElementById('main-image').style.display = 'block';
                document.getElementById('print-image').style.display = 'none';

                for (let i = 1; i <= 6; i++) {
                    let checkboxId = "custom-checkbox-" + i;
                    let checkbox = document.getElementById(checkboxId);
                    checkbox.checked = false;
                }

                document.getElementById('nameVal').value = '';
            }
        });
    }
</script>

</body>
</html>
